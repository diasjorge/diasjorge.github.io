<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
  <head>
    <title>Using chef to setup your OSX environment</title>
    <meta charset="utf-8"/>
    <meta name="description" content="Mr. Dias. Software Development Thoughts"/>
    <meta name="author" content="Jorge Dias"/>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

    <link rel="stylesheet" href="/stylesheets/main.css"/>

    <!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6/html5shiv.min.js"></script>
        <![endif]-->

    <link rel="alternate" type="application/rss+xml" title="Articles RSS" href="https://feeds2.feedburner.com/mrdias" />
  </head>
  <body>
    <div class="container">
      <div id="header" class="sixteen columns">
        <div id="toplinks">
          <a href="https://github.com/diasjorge">
            <img width="24" height="24" src="/images/github_24.png"/>
          </a>
          <a href="https://twitter.com/dias_jorge">
            <img width="24" height="24" src="/images/twitter_24.png"/>
          </a>
          <a href="https://linkedin.com/in/jorgediasmartinez/en">
            <img width="24" height="24" src="/images/linkedin_24.png"/>
          </a>
        </div>
        <h1><a href="/">Mr. Dias</a></h1>
        <h4>Software Development Thoughts</h4>
      </div>
      <div id="content" class="two-thirds column">
        <div class="article">
  <div class="wrapper">
    <div class="header">
      <h2>
        Using chef to setup your OSX environment
      </h2>
    </div>
    <div class="content">
      <p>Recently I had to reinstall my computer at work since I had to update to Lion and I could only do a fresh install, so I decided to try to automate the installation process since some of my colleagues are going through the same and it seems like every time we have to waste many hours or days to solve the same issues over and over.<!-- -**-END-**- --></p>

<p>A few days before I had stumbled upon this <a href="http://jtimberman.housepub.org/blog/2012/01/28/iterm2-with-tmux/">article</a> just by coincidence and it gave me some light into what could be done. This article led to a <a href="http://jtimberman.housepub.org/blog/2011/04/03/managing-my-workstations-with-chef/">previous one</a> by the same author about using chef to manage his workstations I knew what had to be done.</p>

<p>So when I finally decided to tackle the problem I found a nice addition to the whole package which is a gem called <a href="https://github.com/mkocher/soloist">soloist</a>.</p>

<p>Soloist makes it <strong>very</strong> easy to setup your environment and hides lots of the complexity of using chef-solo. Basically it just needs a very simple file structure to know about your cookbooks and a configuration file where you specify the recipes that you need.</p>

<p>I started to use it, but then I got into a few problems. The first one is that chef 0.10.8 had some problems with your USERID if your account is created by Active Directory (which of course was my case), so I had to install chef 0.10.10.rc.3. This made it work. <strike>I also found that the soloist version from rubygems at the moment (0.9.4) did not allow to pass node attributes so I had to build the gem from the latest HEAD on the git repository.</strike> UPDATE: a new version of soloist was released that fixes that issue.</p>

<p>After reading many of the recipes from <a href="https://github.com/pivotal/pivotal_workstation">pivotal_workstation</a> I chose the ones I liked the most and in the end things worked as you could expect, I did make some changes to some of the recipes to suit them better to my needs and to deal with a bug in chef with symlinks, although if you’re using a stable chef version perhaps you should be fine. I found other useful cookbooks as well and incorporated them to my soloist project and I even wrote some of my own recipes (which I have to say was very easy).</p>

<p>So in conclusion I’m hooked, I know all my macs (and maybe pc’s as well) will have to be installed like this in the future. This was as well my first experience working with chef and it was a very pleasant one even though I had some problems, but that’s the price to pay for being on the “bleeding” edge.</p>

    </div>
    <article class=hentry>
      <p class="author vcard">
        By Jorge Dias
        on <time pubdate class=published datetime="2012-05-11T00:00:00+02:00">11 May 2012</time>
      </p>
    </article>
  </div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'mrdias';
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
      <div id="sidebar" class="one-third column">
        <div class="module">
  <h2>
    Tags
  </h2>
  <div class="cloud-wrap">
    <ul>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/activerecord">
          activerecord
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/ajax">
          ajax
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/archives">
          archives
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/automation">
          automation
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/awareness">
          awareness
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/aws">
          aws
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/backbone">
          backbone
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/capistrano">
          capistrano
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/chef">
          chef
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/conferencia_rails">
          conferencia_rails
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/cucumber">
          cucumber
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/development">
          development
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/devops">
          devops
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.54em" href="https://mrdias.com/tags/docker">
          docker
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/emacs">
          emacs
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/emails">
          emails
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/encodings">
          encodings
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/fig">
          fig
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/gardening">
          gardening
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/gdg">
          gdg
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/git">
          git
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/IE">
          IE
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/javascript">
          javascript
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/jekyll">
          jekyll
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/lambda">
          lambda
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/life">
          life
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/marionette">
          marionette
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/merb">
          merb
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/migrations">
          migrations
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/open_source">
          open_source
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/osx">
          osx
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/passenger">
          passenger
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/programming">
          programming
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/prototype">
          prototype
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/python">
          python
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/rails">
          rails
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/refactoring">
          refactoring
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.9em" href="https://mrdias.com/tags/reflections">
          reflections
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/ruby">
          ruby
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/rvm">
          rvm
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/shell">
          shell
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/slides">
          slides
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/systems">
          systems
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.18em" href="https://mrdias.com/tags/thor">
          thor
        </a>
      </li>
      
      <li>
        <a style="font-size: 1.36em" href="https://mrdias.com/tags/will_paginate">
          will_paginate
        </a>
      </li>
      
    </ul>
  </div>
</div>
<div class="module">
  <h2>
    Friend's Links
  </h2>
  <ul>
    <li>
      <a href="http://least-significant-bit.com">Least Significant Bit</a>
    </li>
    <li>
      <a href="https://travelswithmyfork.blogspot.com">Travels with my fork</a>
    </li>
  </ul>
</div>
<div class="module">
  <h2>
    Subscribe
  </h2>
  <ul>
    <li>
      <a href="https://feeds2.feedburner.com/mrdias" class="feed-link">RSS</a>
    </li>
  </ul>
</div>
<div class="module">
  <h2>
    Monthly Archives
  </h2>
  <ul>
    
    <li>
      <a href="/2017/03">March 2017</a> (1 posts)
    </li>
    
    <li>
      <a href="/2015/03">March 2015</a> (1 posts)
    </li>
    
    <li>
      <a href="/2014/12">December 2014</a> (2 posts)
    </li>
    
    <li>
      <a href="/2014/07">July 2014</a> (1 posts)
    </li>
    
    <li>
      <a href="/2013/10">October 2013</a> (1 posts)
    </li>
    
    <li>
      <a href="/2012/09">September 2012</a> (1 posts)
    </li>
    
    <li>
      <a href="/2012/07">July 2012</a> (1 posts)
    </li>
    
    <li>
      <a href="/2012/05">May 2012</a> (1 posts)
    </li>
    
    <li>
      <a href="/2012/02">February 2012</a> (1 posts)
    </li>
    
    <li>
      <a href="/2011/12">December 2011</a> (1 posts)
    </li>
    
    <li>
      <a href="/2011/08">August 2011</a> (1 posts)
    </li>
    
    <li>
      <a href="/2011/01">January 2011</a> (1 posts)
    </li>
    
    <li>
      <a href="/2010/11">November 2010</a> (2 posts)
    </li>
    
    <li>
      <a href="/2010/05">May 2010</a> (1 posts)
    </li>
    
    <li>
      <a href="/2010/04">April 2010</a> (1 posts)
    </li>
    
    <li>
      <a href="/2010/03">March 2010</a> (3 posts)
    </li>
    
    <li>
      <a href="/2010/02">February 2010</a> (1 posts)
    </li>
    
    <li>
      <a href="/2009/08">August 2009</a> (1 posts)
    </li>
    
    <li>
      <a href="/2009/02">February 2009</a> (1 posts)
    </li>
    
    <li>
      <a href="/2008/12">December 2008</a> (2 posts)
    </li>
    
  </ul>
</div>
<div class="module">
  <h2>Github</h2>
  <h4>Last Active Repos</h4>
  <ul id="gh_repos">
  </ul>
  <script>
   var github = {
     success: function(response) {
       var repos = [];
       var length = response.data.length >= 10 ? 10: response.data.length
       for (var i = 0; i < length; i++) {
         repos.push(response.data[i]);
       }
       github.render(repos);
     },
     render: function(repos) {
       var i = 0,
       fragment = '',
       target = 'gh_repos';
       t = document.getElementById(target);

       for (i = 0; i < repos.length; i++) {
         fragment += '<li><a href="' + repos[i].html_url + '">' + repos[i].name + '</a><p>' + (repos[i].description || '') + '</p></li>';
       }
       t.innerHTML = fragment;
     }
   }
  </script>
  <script src="https://api.github.com/users/diasjorge/repos?sort=pushed&type=public&callback=github.success"></script>
</div>
<div class="module">
  <h2>Twitter</h2>
  <h4>Recent Activity</h4>
  <a class="twitter-timeline" href="https://twitter.com/dias_jorge" data-widget-id="398762448485744640" data-theme="light" data-chrome="noheader nofooter noscrollbar transparent" data-border-color="#D0D0D0" data-tweet-limit="5"></a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>

      </div>
      <div id="footer" class="sixteen columns">
        &copy; 2008-2017 Jorge Dias
      </div>
      <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-15098892-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

      <script type="text/javascript">
  //<![CDATA[
    (function() {
        var links = document.getElementsByTagName('a');
        var query = '?';
        for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
            query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
        }
        document.write('<script type="text/javascript" src="https://disqus.com/forums/mrdias/get_num_replies.js' + query + '"></' + 'script>');
    })();
    //]]>
</script>

    </div>
  </body>
</html>
